<ion-content class="search-content">
    <app-header title="Recherche"></app-header>
    <ion-item>
        <ion-label><ion-icon name="search"></ion-icon></ion-label>
        <ion-input type="text" class="" placeholder="Rechercher ..." [(ngModel)]='searchText' (ionChange)='onInputChange()'></ion-input>        
    </ion-item>
    <ion-fab middle right (click)="openFiltersModal({categories: categories})">
        <button ion-fab mini><i class="zmdi zmdi-tune"></i>
        </button>
    </ion-fab>
    <div #map id="map"></div>
    <ion-card *ngIf="showDetails && currentRestaurant"  (click)="toRestaurant(currentRestaurant.id)" class="detailsModale">
        <img class="card-image" src="{{currentRestaurant.picture}}" />
        <div class="card-detail">
            <ion-icon class="card-close" name="close" (click)="closeModale()" color="primary"></ion-icon>
            <i class="zmdi zmdi-chevron-right go-to-page"></i>
            <div class="card-title">{{currentRestaurant.name}}</div>
            <div class="card-tags">
                <ion-badge *ngFor="let category of currentRestaurant.categories">{{category.name}}</ion-badge>
            </div>
            <div class="card-address">
            <span><i class="zmdi zmdi-pin icon-pin"></i>{{formattedAddress(currentRestaurant.address, currentRestaurant.postalCode, currentRestaurant.city)}}</span>
            </div>
        </div>
    </ion-card>
    <add-to-cart [cart]="cart"></add-to-cart>
</ion-content>
  